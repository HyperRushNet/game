const HyperRush={_d:null,_i:new Map(),init:async function(e){const{containerId:t,nr:n,credits:r=!0,redirectBlock:o=!0,extraPermissions:a=""}=e;if(this._i.has(t))this.destroy(t);const s=document.getElementById(t);if(!s||!n)return;this._i.set(t,{a:!0,r:null});this._s();s.innerHTML=`<div class="hr-l" id="ld-${t}"><div class="hr-p"></div><div class="hr-t">Loading...</div></div><canvas class="hr-c" id="cv-${t}"></canvas>${r?`<div class="hr-cr">Powered by <a href="https://hyperrushnet.github.io/" target="_blank">HyperRush</a></div>`:""}`;this._a(t);if(!this._d)try{const i=await fetch("https://hyperrushnet.github.io/assets/json/games.json");this._d=await i.json()}catch(l){this._d=[]}const d=this._d.find(e=>Number(e.number)===Number(n)),p=d?.link?"https://hyperrushnet.github.io"+d.link:"https://hyperrushnet.github.io/games-1/bacon-may-die/",c=document.createElement("iframe");c.className="hr-f";c.src=p;c.allow="autoplay;fullscreen;gamepad;microphone";let m="allow-scripts allow-same-origin allow-pointer-lock allow-modals allow-popups allow-forms allow-presentation";o||(m+=" allow-popups-to-escape-sandbox allow-top-navigation-by-user-activation");c.sandbox=`${m} ${a}`.trim();c.onload=()=>{this._j(c,!!o);c.classList.add("on");const e=document.getElementById(`ld-${t}`),n=document.getElementById(`cv-${t}`);e&&(e.classList.add("h"),setTimeout(()=>e.remove(),700));n&&(n.style.opacity="0",setTimeout(()=>{const e=this._i.get(t);e&&(e.a=!1,cancelAnimationFrame(e.r));n.remove()},1e3));c.focus()};s.appendChild(c)},destroy:function(e){const t=this._i.get(e);if(t){t.a=!1;if(t.r)cancelAnimationFrame(t.r);this._i.delete(e)}const n=document.getElementById(e);if(n){const r=n.querySelector(".hr-f");if(r){r.src="about:blank";r.remove()}n.innerHTML=""}},_j:function(e,t){try{const n=e.contentDocument||e.contentWindow?.document;if(!n||!n.head)return;const r=[`(function(){let l=0;function loop(t){if(!l||t-l>16.6){try{window.__updateGame?.();window.__renderGame?.()}catch(e){}l=t}requestAnimationFrame(loop)}requestAnimationFrame(loop)})();`,`document.addEventListener("visibilitychange",()=>{try{document.hidden?window.__pauseGame?.():window.__resumeGame?.()}catch(e){}});`,t?`(function(){const n=()=>{};console.log=console.debug=console.info=console.warn=console.error=n;})();`:""];r.forEach(e=>{if(e){const t=n.createElement("script");t.textContent=e;n.head.appendChild(t)}})}catch(o){}},_s:function(){if(document.getElementById("hr-css"))return;const e=document.createElement("style");e.id="hr-css";e.textContent=".hr-f{width:100%;height:100%;border:none;display:block;opacity:0;transition:opacity .9s ease;z-index:1;position:relative}.hr-f.on{opacity:1}.hr-l{position:absolute;inset:0;display:flex;flex-direction:column;align-items:center;justify-content:center;background:#000;z-index:99;gap:20px;transition:opacity .6s ease}.hr-l.h{opacity:0;visibility:hidden}.hr-p{position:relative;width:64px;height:64px}.hr-p::after,.hr-p::before{content:'';position:absolute;inset:0;border-radius:50%;border:4px solid transparent}.hr-p::before{border-top-color:#4169E1;border-right-color:#4169E1;animation:hr-s 1.2s linear infinite}.hr-p::after{border-top-color:rgba(65,105,225,.4);border-bottom-color:rgba(65,105,225,.4);animation:hr-s 1.8s linear infinite reverse;box-shadow:0 0 20px rgba(65,105,225,.5)}@keyframes hr-s{to{transform:rotate(360deg)}}.hr-t{color:#fff;font-size:14px;opacity:.7;letter-spacing:1px;text-transform:uppercase;font-weight:700}.hr-c{position:absolute;inset:0;pointer-events:none;z-index:2;transition:opacity 1s ease}.hr-cr{position:absolute;bottom:12px;right:16px;z-index:100;font-size:11px;color:#333;background:rgba(255,255,255,.85);padding:4px 10px;border-radius:5px;text-transform:uppercase;letter-spacing:.7px;animation:hr-f 8s forwards}.hr-cr a{color:#4169E1;text-decoration:none;font-weight:700}@keyframes hr-f{0%,65%{opacity:1;visibility:visible}99%{opacity:0;visibility:visible}100%{opacity:0;visibility:hidden;pointer-events:none}}";document.head.appendChild(e)},_a:function(e){const t=document.getElementById(`cv-${e}`),n=t.getContext("2d");let r=[];const o=()=>{t.width=t.offsetWidth,t.height=t.offsetHeight};window.addEventListener("resize",o);o();const a=()=>{const s=this._i.get(e);if(!s||!s.a)return;n.clearRect(0,0,t.width,t.height);r.length<20&&Math.random()>.8&&r.push({x:Math.random()*t.width,y:-10,v:Math.random()*2+1,r:Math.random()*2,a:Math.random()*.5+.2});for(let e=r.length-1;e>=0;e--){const o=r[e];o.y+=o.v,o.a*=.99,o.y>t.height||o.a<.01?r.splice(e,1):(n.beginPath(),n.arc(o.x,o.y,o.r,0,6.28),n.fillStyle=`rgba(65,105,225,${o.a})`,n.fill())}s.r=requestAnimationFrame(a)};a()}};
