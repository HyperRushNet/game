<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Matter.js: Blok met Rand en Apparaatrotatie</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/matter-js/0.19.0/matter.min.js"></script>
  <style>
    body {
      margin: 0;
      overflow: hidden;
    }
    canvas {
      display: block;
      background: #f0f0f0;
    }
  </style>
</head>
<body>
<script>
  // Matter.js modules
  const Engine = Matter.Engine,
        Render = Matter.Render,
        Runner = Matter.Runner,
        Bodies = Matter.Bodies,
        Composite = Matter.Composite;

  // Engine en wereld
  const engine = Engine.create();
  const world = engine.world;

  // Renderer
  const render = Render.create({
    element: document.body,
    engine: engine,
    options: {
      width: window.innerWidth,
      height: window.innerHeight,
      wireframes: false,
      background: '#e0e0e0'
    }
  });
  Render.run(render);

  // Runner
  const runner = Runner.create();
  Runner.run(runner, engine);

  // Blok zonder wrijving en rolweerstand
  const block = Bodies.rectangle(400, 200, 80, 80, {
    restitution: 0.8,
    friction: 0,
    frictionAir: 0,
    frictionStatic: 0,
    render: { fillStyle: '#0077ff' }
  });

  // Muren rond het scherm
  const thickness = 50; // dikte van de muren
  const walls = [
    // Boven
    Bodies.rectangle(window.innerWidth / 2, -thickness / 2, window.innerWidth, thickness, { isStatic: true }),
    // Onder
    Bodies.rectangle(window.innerWidth / 2, window.innerHeight + thickness / 2, window.innerWidth, thickness, { isStatic: true }),
    // Links
    Bodies.rectangle(-thickness / 2, window.innerHeight / 2, thickness, window.innerHeight, { isStatic: true }),
    // Rechts
    Bodies.rectangle(window.innerWidth + thickness / 2, window.innerHeight / 2, thickness, window.innerHeight, { isStatic: true })
  ];

  Composite.add(world, [block, ...walls]);

  // Responsieve canvas
  window.addEventListener('resize', () => {
    Render.lookAt(render, {
      min: { x: 0, y: 0 },
      max: { x: window.innerWidth, y: window.innerHeight }
    });
  });

  // Apparaatsturing via DeviceOrientation
  if (window.DeviceOrientationEvent) {
    window.addEventListener('deviceorientation', (event) => {
      const gamma = event.gamma || 0; // links-rechts
      const beta = event.beta || 0;   // voor-achter

      // Gravity vector: -1 tot 1
      engine.world.gravity.x = gamma / 90;
      engine.world.gravity.y = beta / 90;
    });
  } else {
    alert("DeviceOrientation niet ondersteund op dit apparaat.");
  }
</script>
</body>
</html>
